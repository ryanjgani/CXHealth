<% layout('layouts/boilerplate')%>

    <h1 class="mb-4">Appointment with Dr. <%= appointment.doctor.name %>
    </h1>
    <div class="row">
        <div class="col">
            <div class="card shadow mb-4 p-4" style="border-radius: 20px;">
                <div class="card-body">
                    <div class="d-md-flex justify-content-md-between mb-3">
                        <div class="card special shadow d-inline-flex mb-4">
                            <h5 class="px-3 py-2 my-auto">Appointment Information</h5>
                        </div>
                        <% if (registered) { %>
                        <h5 class="my-auto"><span class="badge bg-info text-dark me-3">Registered!</span></h5>
                        <% } %> 
                    </div>
                    <div class="px-2">
                        <h5 class="card-title text-bold"><strong>Dr. <%= appointment.doctor.name %></strong></h5>
                        <p class="card-text">
                            <small class="text-muted">
                                <%= appointment.doctor.specialty %>
                            </small>
                        </p>
                        <p class="card-text">
                            <%= appointment.description %>
                        </p>
                        <p class="card-text">
                            Max number of registrants: <%= appointment.registrantLimit %>
                        </p>
                    </div>
                    <div class="mt-3 mb-1 d-flex flex-column flex-lg-row justify-content-end">
                        <a href="/patient/appointments" class="card-link ms-auto"><button class="btn btn-success mb-3">Back</button></a>
                        <% if (registered) { %>
                            <form class="d-inline mx-lg-3 ms-auto" action="/patient/appointments/<%=appointment._id%>/cancel"
                                method="POST">
                                <button type="submit" class="btn btn-danger">Cancel Registration</button>
                            </form>
                        <% } else { %> 
                        <form class="d-inline mx-lg-3 ms-auto" action="/patient/appointments/<%=appointment._id%>/register"
                            method="POST">
                            <button type="submit" class="btn btn-info">Register</button>
                        </form>
                        <% } %> 
                        
                    </div>
                </div>
            </div><!-- card -->
        </div><!-- inner col -->
    </div><!-- row -->

